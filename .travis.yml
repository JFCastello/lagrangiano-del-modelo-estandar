#https://github.com/SimonWaldherr/HowTo-Deploy-LaTeX-Documents -> .travis.yml

os: linux
sudo: required

# we use the R VM because it contains LaTeX and pandoc
# https://docs.travis-ci.com/user/languages/r
#Requieres DESCRIPTION file

language: r

#LaTeX/TexLive Packages #
#The included TexLive distribution contains only a limited
#set of default packages. If your vignettes require additional
#TexLive packages you can install them using tlmgr install
#in the before_install step.

#before_install:
#  - tlmgr install index simplewick

# we can install additional software
apt_packages:
# we download pdf2djvu to also generate a djvu f i l e of our LaTeX source
  - pdf2djvu

script:
# in the next step we use pdflatex to convert .tex to .pdf
# of course we could use pandoc for this also, but pdflatex generates nicer PDFs
  - pdflatex -interaction=nonstopmode fullnotes.tex
  - pdflatex -interaction=nonstopmode fullnotes.tex

#The following lines where automaticaly generated after
# cd into my local repo with the old version of .travis.yml
# install travis cli from: https://github.com/travis-ci/travis.rb
#  $ sudo apt-get install ruby2.1-dev
#  $ sudo gem install travis -v 1.8.2 --no-rdoc --no-ri
#  $ travis setup releases
# Add:   skip_cleanup: true (see below)

deploy:
  provider: releases
  api_key:
    secure: DPpPm2477M8Sz3oV3aIbrd4VianfNf/vaWUg5QSVg44FDP2sp0P19Nu2/KXS9rDafQ2IHhNJ2I7kSh6odpQYaeRyK1FuSAIdnHSYfySo3d0OCHgUFau67Cz1PV3V4H870dYRUcAln6Vt3Fhth5tK9oBJgWAEdf4sjbnuUziog3UXEP24yr9zrvMJ5iJ5bN2Wvd8ag7QuQT7vSBj0PHH8yWcpqqSN4yc3xYzWo/t4a66uo+V8Pt8LKw5q+D+6wloPYhg2P/AE0JvMHNPU3/CwhX3bTyFMvBtjzrysBRKshjEHvJwFy0hDJ3G224ucD6P+7QFWqjMNu8VaqSecAK8MGtZH7bBeNwFsj7WL3Oy8c/X4UhmlVW88FCIkFeZqUzpuFiub78//QC6WhKYzRQcv0exulZ+Z4ryZK69YGJfLPYY1byXdafZ7ftRaRkzoBX1nle060KH24jd6eqc+l3jyzTt/nFd+MGfBqybFPOp5qCgyHEDn3m6Yetttw57CGWvTCbiS8xRXWMoO+EehcKTY8h8AROj7RncxGZx9Xc/vlOA5yuRJr/hLpsWib0q7xU+SJRyNFdbMekkdzb+72Qg+wtqPEn/nW9Fq46BImDamCVA8A2k3FeP4T/durBdaI1/HZGFbzHbH6laJdCyn6hqGePgr9CU7NM/IAVBjpBQJI2g=
  file: fullnotes.pdf
  skip_cleanup: true
  on:
    repo: restrepo/TCC
